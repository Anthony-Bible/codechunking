# Base configuration for CodeChunking
api:
  host: 0.0.0.0
  port: 8080
  read_timeout: 10s
  write_timeout: 10s

worker:
  concurrency: 5
  queue_group: workers
  job_timeout: 30m  # Overall timeout for complete job processing
                    # Must be larger than (gemini.timeout Ã— max_chunks_per_repo)
                    # to allow all embeddings to complete

database:
  host: localhost
  port: 5432
  name: codechunking
  sslmode: disable
  max_connections: 25
  max_idle_connections: 5

nats:
  url: nats://localhost:4222
  max_reconnects: 5
  reconnect_wait: 2s

gemini:
  model: gemini-embedding-001
  max_retries: 3
  timeout: 120s  # Per-request timeout for embedding generation
                 # Applied to each individual embedding API call
                 # Should be less than worker job_timeout

log:
  level: info
  format: json